<div class="ui segment">
  <%= form_for(@pessoa, html: { class: 'ui form' }) do |f| %>
    <%= render partial: 'layouts/errors_messages', locals: { model: @pessoa } %>

    <div class="required eight wide field">
      <%= f.label :nome %>
      <%= f.text_field :nome, style: 'text-transform: uppercase;' %>
    </div>

    <div class="eight wide field">
      <%= f.label :apelido %>
      <%= f.text_field :apelido, style: 'text-transform: uppercase;' %>
    </div>

    <div class="eight wide field">
      <%= f.label :documento %>
      <%= f.text_field :documento, inputmode: 'numeric', pattern: '\d*', placeholder: 'Somente números', class: 'somente-numeros' %>
    </div>

    <div class="eight wide field">
      <%= f.label :email %>
      <%= f.email_field :email, style: 'text-transform: uppercase;' %>
    </div>

    <div class="eight wide field">
      <%= f.label :telefone %>
      <%= f.text_field :telefone, inputmode: 'numeric', pattern: '\d*', placeholder: '(99) 99999-9999', class: 'somente-numeros' %>
    </div>

    <div class="field">
      <div class="ui toggle checkbox">
        <%= f.check_box :ativo %>
        <%= f.label :ativo %>
      </div>
    </div>

    <div class="actions">
      <%= link_to t('helpers.links.cancel'), pessoas_path, class: 'ui button floated' %>
      <%= f.submit nil, class: 'ui green button' %>
    </div>
  <% end %>
</div>

<%# === Bloqueia letras nos campos numéricos === %>
<script>
    document.addEventListener("turbo:load", function() {
        // Bloqueia letras em campos com a classe .somente-numeros
        $('.somente-numeros').on('input', function() {
            this.value = this.value.replace(/\D/g, ''); // Remove qualquer caractere não numérico
        });
    });
</script>
